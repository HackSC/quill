<div id="application" class="page">
    <div class="divided title">
        Application
    </div>

    <div class="ui stackable page grid">
        <div class="column">
            <div class="ui form"
                 ng-class="{'loading': loading}">

                <div class="divided title">About You</div>

                <fieldset ng-disabled="regIsClosed">

                    <div class="field">
                        <label> First Name </label>
                        <input type="text"
                               id="firstName"
                               ng-model="user.profile.firstName">
                    </div>

                    <div class="field">
                        <label> Last Name </label>
                        <input type="text"
                               id="lastName"
                               ng-model="user.profile.lastName">
                    </div>

                    <div class="field">
                        <label> Gender </label>
                        <select
                                id="gender"
                                ng-model="user.profile.gender">
                            <option value=""></option>
                            <option value="Male">Male</option>
                            <option value="Female">Female</option>
                            <option value="Other">Other</option>
                            <option value="No Response">Prefer not to answer</option>
                        </select>
                    </div>

                    <div class="field">
                        <label> Ethnicity </label>
                        <select
                                id="ethnicity"
                                ng-model="user.profile.ethnicity">
                            <option value=""></option>
                            <option value="White / Caucasian">White / Caucasian</option>
                            <option value="Black or African American">Black or African American</option>
                            <option value="Native American or Alaska Native">Native American or Alaska Native</option>
                            <option value="Asian / Pacific Islander">Asian / Pacific Islander</option>
                            <option value="Hispanic / Latinx">Hispanic / Latinx</option>
                            <option value="Multiracial / Other">Multiracial / Other</option>
                            <option value="Prefer not to answer">Prefer not to answer</option>
                        </select>
                    </div>

                    <div class="field" ng-show="autoFilledSchool">
                        <label> School </label>
                        <input class="ui input"
                               disabled="disabled"
                               ng-show="autoFilledSchool"
                               ng-model="user.profile.school">
                    </div>

                    <div class="field" ng-show="!autoFilledSchool">
                        <label> School </label>
                        <div id="school" class="ui search">
                            <div class="ui input">
                                <input class="prompt" type="text" placeholder="" name="school"
                                       ng-model="user.profile.school">
                            </div>
                            <div class="results"></div>
                        </div>
                    </div>

                    <div class="field">
                        <label> Year </label>
                        <select
                                id="year"
                                ng-model="user.profile.year">
                            <option value=""></option>
                            <option value="2019">2019</option>
                            <option value="2020">2020</option>
                            <option value="2021">2021</option>
                            <option value="2022">2022</option>
                            <option value="High School">High School</option>
                            <option value="Graduate">Graduate</option>
                            <option value="Other">Other</option>
                        </select>
                    </div>

                    <div class="field">
                        <label> Major </label>
                        <div id="major" class="ui search">
                            <div class="ui input">
                                <input class="prompt" type="text" placeholder="" name="major"
                                       ng-model="user.profile.major">
                            </div>
                            <div class="results"></div>
                        </div>
                    </div>

                    <div class="field">
                        <label> Level of Experience </label>
                        <select
                                id="experience"
                                ng-model="user.profile.experience">
                            <option value=""></option>
                            <option value="Beginner">Beginner</option>
                            <option value="Intermediate">Intermediate</option>
                            <option value="Advanced">Advanced</option>
                        </select>
                    </div>

                    <div class="field">
                        <label> Resume</label>
                        <div class=""
                             ng-class="{'loading' : fileLoading}">
                            <label for="resume" class="resumeInput"> Upload </label>
                            <!--Angular does not support binding for file inputs so we have to manually call upload-->
                            <input type="file"
                                   style="display:none"
                                   accept="application/pdf"
                                   id="resume"
                                   name="resume"
                                   onchange="angular.element(this).scope().uploadFile(this)"/>
                            <a ng-href="{{user.profile.resume.link}}" target="_blank">{{user.profile.resume.name}}</a>
                            <br>
                            <span class="asterisk">*pdf only</span>
                        </div>
                    </div>

                    <div class="divided title">Short Response</div>

                    <div class="field">
                        <label>{{ APPLICATION.ESSAY1_TITLE }}</label>
                        <textarea
                                id="essay1"
                                ng-model="user.profile.essay1"
                                placeholder="{{ APPLICATION.ESSAY1_PLACEHOLDER }}">
                        </textarea>
                        <span class="characterCount">{{user.profile.essay1.length ? user.profile.essay1.length : 0}}/1500</span>
                    </div>

                    <div class="field">
                        <label>{{ APPLICATION.ESSAY2_TITLE }}</label>
                        <textarea
                                id="essay2"
                                ng-model="user.profile.essay2"
                                placeholder="{{ APPLICATION.ESSAY2_PLACEHOLDER }}">
                        </textarea>
                        <span class="characterCount">{{user.profile.essay2.length ? user.profile.essay2.length : 0}}/1500</span>
                    </div>

                    <div class="field">
                        <label>{{ APPLICATION.ESSAY3_TITLE }}</label>
                        <input
                                type="text"
                                id="essay3"
                                ng-model="user.profile.essay3"
                                placeholder="{{ APPLICATION.ESSAY3_PLACEHOLDER }}">
                    </div>

                    <div class="field">
                        <label>LinkedIn (Optional)</label>
                        <input
                                type="text"
                                ng-model="user.profile.linkedin">
                    </div>

                    <div class="field">
                        <label>Github (Optional)</label>
                        <input
                                type="text"
                                ng-model="user.profile.github">
                    </div>

                    <div class="field">
                        <label>Other (Optional)</label>
                        <input
                                type="text"
                                ng-model="user.profile.other">
                    </div>

                    <br>

                    <div class="divided title">Transportation</div>

                    <div class="field">
                        <p>
                            We will be sending busses to and from HackSC for schools in California.
                            There is no guarantee we will send a bus to your school, but we will consider it based on
                            interest.
                        </p>
                        <div class="ui checkbox">
                            <input type="checkbox" id="transportation" ng-model="user.profile.transportation">
                            <label for="transportation">I will need transportation to and from HackSC.</label>
                        </div>
                    </div>

                    <div class="divided title">Legal</div>

                    <div class="field">
                        <p>
                            Because of limitations imposed by USC, we are not legally allowed to host
                            minors (those under 18) for HackSC. Checking the box below affirms that you are or will
                            be 18 years or older by April 12, 2019. <strong>We will be checking ID.</strong>
                        </p>
                        <div class="ui checkbox">
                            <input type="checkbox" id="adult" ng-model="user.profile.adult">
                            <label for="adult">I will be 18 or older by April 12, 2019.</label>
                        </div>
                    </div>

                    <div class="field">
                        <div class="ui checkbox">
                            <input type="checkbox" id="mlh" ng-model="user.profile.mlh">
                            <label for="mlh">
                                I have read and agree to the
                                <a target="_blank" href="https://static.mlh.io/docs/mlh-code-of-conduct.pdf">
                                    MLH Code of Conduct
                                </a>
                                . I agree to the terms of both the
                                <a target="_blank"
                                   href="https://github.com/MLH/mlh-policies/tree/master/prize-terms-and-conditions">
                                    MLH Contest Terms and Conditions
                                </a>
                                and the
                                <a target="_blank" href="https://mlh.io/privacy">
                                    MLH Privacy Policy
                                </a>.
                            </label>
                        </div>
                    </div>

                    <br>

                    <div class="field">
                        <div class="field btn" ng-hide="regIsClosed">
                            <button type="submit"
                                    id="update"
                                    class="fluid ui button"
                                    ng-click="updateProfile()">
                                Save
                            </button>
                        </div>

                        <div class="field btn" ng-hide="regIsClosed">
                            <button type="submit"
                                    id="submit"
                                    class="fluid ui button"
                                    ng-click="submitApp()">
                                Submit
                            </button>
                        </div>
                    </div>

                </fieldset>
            </div>
        </div>
    </div>
</div>
