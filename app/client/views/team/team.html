<div id="team" class="page">
  <div class="divided title">
    Team
  </div>
  <div class="ui stackable centered page grid">
    <div class="column">
      <div
        class="ui error message"
        ng-show="error">
        {{error}}
      </div>

      <div class="ui segment">
        <div
          ng-show="!user.teamCode && !regIsOpen">
          <p>
            {{ TEAM.NO_TEAM_REG_CLOSED }}
          </p>
        </div>
        <div
          class="ui form"
          ng-show="!user.teamCode && regIsOpen">

          <div class="title">
            Join or Create a Team
          </div>

          <br>

          <p>
            <b>What is this? </b>
            On this page, you can join or create a team. When you create a team,
            you can specify a unique name for your team that you can give to your
            teammates who are applying. They can then join your team by inputting
            that unique team name. Make sure your team name is unique enough so others
            don't accidentally join your team!
          </p>

          <p>
            <b>What is this used for? </b>
            This is used for application purposes so we know that you intend on
            hacking together as a team. It is not a guarantee everyone will be accepted but
            we will weigh team applications considerably.
          </p>

          <br>

          <div class="field">
            <input
              class="ui input"
              type="text"
              placeholder="Choose your team name..."
              ng-model="code">
          </div>

          <div class="field">
            <button
              class="ui fluid buttonPrimary button"
              ng-click="joinTeam()">
              Join or Create Team
            </button>
          </div>

        </div>

        <div
          ng-show="user.teamCode">
          <div class="form">
            <div class="title">
              Your Team Name:
            </div>
          </div>
          <br>
          <div class="subheader">
            {{user.teamCode}}
          </div>

          <br />

          <div class="ui divider"></div>

          <div class="form">
            <div class="title">
              Your Team:
            </div>
          </div>

          <p
            ng-repeat="user in teammates"
            class="item">
            {{(user.profile.firstName + " " + user.profile.lastName) || 'Somebody (has not filled out their profile!)'}}
          </p>

          <div
            ng-show="regIsOpen">
            <div class="ui divider"></div>

            <button
              class="ui fluid buttonPrimary button"
              ng-click="leaveTeam()">Leave Team</button>
          </div>

        </div>

      </div>
    </div>
  </div>

</div>
